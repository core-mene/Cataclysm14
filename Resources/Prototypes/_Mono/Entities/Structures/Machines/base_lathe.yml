- type: entity
  id: BaseLathe2x2
  parent: BaseLatheLube
  name: Debug 2x2 autolathe
  description: test for a 2x2 grid lathe
  components:
  - type: Sprite
    offset: 0.5,-0.5
    sprite: _Mono/Structures/Machines/autolathe_2x2.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: MilitaryTechfabMachineCircuitboard
  - type: Lathe
    producingSound: /Audio/Machines/circuitprinter.ogg
    idleState: icon
    runningState: icon
    staticPacks:
    - StaticAmmoRecipePack
    - NFMercenaryTechfabDeprecatedStatic
  - type: MaterialStorage
    whitelist:
      tags:
      - Sheet
      - RawMaterial
      - Ingot
  - type: Construction
    graph: Machine2x2
  - type: RequireProjectileTarget
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: machineFrame
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "1.25,0.25,-0.25,-1.25"
        density: 155
        mask:
        - MachineMask
        layer:
        - MachineLayer

- type: entity
  id: BaseLathe3x2
  parent: BaseLatheLube
  name: Debug 3x2 autolathe
  description: test for a 3x2 grid lathe
  components:
  - type: Sprite
    offset: 1,-0.5
    sprite: _Mono/Structures/Machines/autolathe_3x2.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: MilitaryTechfabMachineCircuitboard
  - type: Lathe
    producingSound: /Audio/Machines/circuitprinter.ogg
    idleState: icon
    runningState: icon
    staticPacks:
    - StaticAmmoRecipePack
    - NFMercenaryTechfabDeprecatedStatic
  - type: MaterialStorage
    whitelist:
      tags:
      - Sheet
      - RawMaterial
      - Ingot
  - type: Construction
    graph: Machine3x2
  - type: RequireProjectileTarget
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: machineFrame
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "2.25,0.25,-0.25,-1.25"
        density: 155
        mask:
        - MachineMask
        layer:
        - MachineLayer

- type: entity
  id: BaseLathe2x1
  parent: BaseLatheLube
  name: Debug 2x1 autolathe
  description: test for a 2x1 grid lathe
  components:
  - type: Sprite
    offset: 0.5,0
    sprite: _Mono/Structures/Machines/autolathe_2x1.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: MilitaryTechfabMachineCircuitboard
  - type: Lathe
    producingSound: /Audio/Machines/circuitprinter.ogg
    idleState: icon
    runningState: icon
    staticPacks:
    - StaticAmmoRecipePack
    - NFMercenaryTechfabDeprecatedStatic
  - type: MaterialStorage
    whitelist:
      tags:
      - Sheet
      - RawMaterial
      - Ingot
  - type: Construction
    graph: Machine2x1
  - type: RequireProjectileTarget
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: machineFrame
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "1.25,0.25,-0.25,-0.25"
        density: 155
        mask:
        - MachineMask
        layer:
        - MachineLayer
  
- type: entity
  id: BaseLathe3x3
  parent: BaseLatheLube
  name: Debug 3x3 autolathe
  description: test for a 3x3 grid lathe
  components:
  - type: Sprite
    offset: 1,-1
    sprite: _Mono/Structures/Machines/autolathe_3x3.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: MilitaryTechfabMachineCircuitboard
  - type: Lathe
    producingSound: /Audio/Machines/circuitprinter.ogg
    idleState: icon
    runningState: icon
    staticPacks:
    - StaticAmmoRecipePack
    - NFMercenaryTechfabDeprecatedStatic
  - type: MaterialStorage
    whitelist:
      tags:
      - Sheet
      - RawMaterial
      - Ingot
  - type: Construction
    graph: Machine3x3
  - type: RequireProjectileTarget
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: machineFrame
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "2.25,0.25,-0.25,-2.25"
        density: 155
        mask:
        - MachineMask
        layer:
        - MachineLayer