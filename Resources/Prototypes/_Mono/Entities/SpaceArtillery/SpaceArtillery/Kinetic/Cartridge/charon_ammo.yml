# SPDX-FileCopyrightText: 2025 Onezero0
# SPDX-FileCopyrightText: 2025 Redrover1760
# SPDX-FileCopyrightText: 2025 WallaceLordofOwls
# SPDX-FileCopyrightText: 2025 kasature90
# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: AGPL-3.0-or-later

# CHARON

- type: entity
  parent: BasicHitscan
  id: ShipRailgunProjectile
  categories: [ HideSpawnMenu ]
  components:
  - type: HitscanBasicVisuals
    muzzleFlash:
      sprite: _Mono/Objects/Weapons/Guns/Projectiles/ship_lasers.rsi
      state: gauss_muzzle
    travelFlash:
      sprite: _Mono/Objects/Weapons/Guns/Projectiles/ship_lasers.rsi
      state: gauss_trail
    impactFlash:
      sprite: _Mono/Objects/Weapons/Guns/Projectiles/ship_lasers.rsi
      state: gauss_impact
  - type: HitscanRadarSignature
    radarColor: "#CF0E0E"
    lifeTime: 0.3
  - type: HitscanBasicDamage
    damage:
      types:
        Structural: 10000
        Blunt: 1000
  - type: HitscanBasicRaycast
    maxDistance: 768
  - type: HitscanSpawnEntity
    spawnedEntity: CharonExplosion
  #- type: Ammo
  #  muzzleFlash: null

- type: entity
  id: CharonExplosion
  categories: [ HideSpawnMenu ]
  components:
  - type: TriggerOnSpawn
  - type: ExplodeOnTrigger
  - type: Explosive
    explosionType: Default
    totalIntensity: 1500
    intensitySlope: 40
    maxIntensity: 200

- type: entity
  id: CharonSlugAmmo
  name: M381 CHARON 280mm 26.5kg slug cartridge
  description: A all-in-one package containing the plasma gas for ionization in the linear accelerator and the slug itself.
  parent: BaseGrenade
  components:
  - type: Tag
    tags:
    - CharonSlug
  - type: Item
    size: Huge
  - type: CartridgeAmmo
    proto: ShipRailgunProjectile
    deleteOnSpawn: true
  - type: Sprite
    sprite: _Mono/Objects/Weapons/Guns/Ammunition/Explosives/charonslug.rsi
    layers:
    - state: railgun_slug
      map: ["enum.AmmoVisualLayers.Base"]
  - type: Appearance
  - type: SpentAmmoVisuals
  - type: HitscanAmmo

# Subnuclear shells

- type: entity
  parent: BasicHitscan
  id: ShipRailgunProjectileSubnuclear
  categories: [ HideSpawnMenu ]
  components:
  - type: HitscanBasicVisuals
    muzzleFlash:
      sprite: _Mono/Objects/Weapons/Guns/Projectiles/ship_lasers.rsi
      state: gauss_muzzle
    travelFlash:
      sprite: _Mono/Objects/Weapons/Guns/Projectiles/ship_lasers.rsi
      state: gauss_trail
    impactFlash:
      sprite: _Mono/Objects/Weapons/Guns/Projectiles/ship_lasers.rsi
      state: gauss_impact
  - type: HitscanRadarSignature
    radarColor: "#11630d"
    lifeTime: 0.3
  - type: HitscanBasicDamage
    damage:
      types:
        Structural: 90000
        Blunt: 9001 # its over 9000...!
  - type: HitscanBasicRaycast
    maxDistance: 768
  - type: HitscanSpawnEntity
    spawnedEntity: CharonSubnuclearExplosion
  #- type: Ammo
  #  muzzleFlash: null
  - type: HitscanAmmo

- type: entity
  id: CharonSubnuclearExplosion
  categories: [ HideSpawnMenu ]
  components:
  - type: TriggerOnSpawn
  - type: ExplodeOnTrigger
  - type: Explosive
    explosionType: Default
    totalIntensity: 12000
    intensitySlope: 4
    maxIntensity: 500

- type: entity
  id: CharonSubnuclearSlugAmmo
  name: M381 CHARON 280mm 26.5kg subnuclear slug cartridge
  description: A all-in-one package containing the plasma gas for ionization in the linear accelerator and the slug itself. This one carries a subnuclear payload.
  parent: BaseGrenade
  components:
  - type: Tag
    tags:
    - CharonSlug
  - type: Item
    size: Huge
  - type: CartridgeAmmo
    proto: ShipRailgunProjectileSubnuclear
    deleteOnSpawn: true
  - type: Sprite
    sprite: _Mono/Objects/Weapons/Guns/Ammunition/Explosives/charonslug.rsi
    layers:
    - state: subnuclear
      map: ["enum.AmmoVisualLayers.Base"]
  - type: Appearance
  - type: SpentAmmoVisuals
  - type: HitscanAmmo
